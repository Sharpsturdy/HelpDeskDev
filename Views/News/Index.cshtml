@using Help_Desk_2.Models
@model IPagedList<News>

@{
    ViewBag.Title = "Latest News";
    Help_Desk_2.Utilities.AllSorts.setNavProperties(ViewBag);
}

<header>
    <h2 class="title">@ViewBag.Title</h2>
</header>
<div class="container-view news">
    
    @foreach (var item in Model)
        {
        <div class="panel panel-default">
            @foreach (var t in item.Files)
            {
                <img src="@Html.GetImagePath(t.filePath.Substring(1))" width="80px" class="pull-left body-image" style="margin-right:15px" />

            }
            <a class="article-title" onclick="$(location).attr('href', '@Url.Action("Article", "News", new { @id = item.ID })')">
                @Html.DisplayFor(modelItem => item.title)                    
            </a>
            
            <p class="text-muted">@Html.DisplayFor(modelItem => item.publishedDate) / Author: @Html.DisplayFor(modelItem => item.Originator.displayName)</p>
            <p style="clear:both"></p>
                
        </div>
    }

    <div class="pager">
        @Html.Pager(Model.PageSize, Model.PageNumber, Model.TotalItemCount).Options(o => o.AddRouteValue("searchType", @Request.QueryString["searchType"])
        .AddRouteValue("searchStr", @Request.QueryString["searchStr"])
        .DisplayFirstAndLastPage()
        .SetFirstPageText("First")
        .SetLastPageText("Last")
        .SetPreviousPageText("Prev")
        .SetNextPageText("Next"))
    </div>

</div>

